# chicago_311_image_uploads
Scan Chicago's 311 API for Image Uploads

![Pothole in street complaint on 2024-07-13 at 2754 W Carmen Ave](http://311request.cityofchicago.org/media/chicago/report/photos/6692b1f272b9b9c60a0004c3/4fd3b656e750846c53000004_1720883435_full.png)

Chicago's 311 system contains images that residents upload along with their complaints: broken streetlights, potholes, dead and live animals, graffiti, etc. These are unavailable on the city's [public facing data portal](https://data.cityofchicago.org/Service-Requests/311-Service-Requests/v6vf-nfxy/about_data).

Inspired by [Chris Gansen](https://github.com/cgansen)'s hilarious [Twitter 311 photo bot](https://x.com/chi311photos), I wrote two basic Python programs to retrieve these photos.

Feel free to let me know if you have any questions.

Here are the files:

**api_media_url.py** - Scans the City of Chicago 311 API, identifies all 311 complaints where people uploaded photos, and saves those files as JSON. The current version amends an open file on a loop and writes the file to JSON only after paginating each page in the API, a process that takes several hours. A subsequent version will write to the JSON in real-time while keeping the formatting clean.

**download_images.py** - Downloads all URLs in the JSON file that was generated by api_media_url.py, downloads them and names them using the 311 Service Request number and appropriate file extension.

**311_url_all.json** - JSON created by api_media_url.py.
